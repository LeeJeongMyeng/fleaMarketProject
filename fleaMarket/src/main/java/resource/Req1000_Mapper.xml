<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
   

    <mapper namespace="fleaMarket.a03_dao.Req1000_Dao">
    	<!-- 이메일 중복검사 -->
    	<select id="DuplicateEmail" parameterType="string" resultType="member">
    		SELECT * FROM FLEAMARKETMEMBER WHERE email = #{email}
    	</select>
    	<!-- 이름/주민 중복검사 -->
    	<select id="DuplicateMem" parameterType="hashmap" resultType="member">
    	SELECT * FROM FLEAMARKETMEMBER WHERE name = #{name} and personalnumber = #{personalnumber}
    	</select>
    	
    	<!--회원가입 -->
    	<insert id="SignUp" parameterType="member">
    		INSERT INTO FLEAMARKETMEMBER values(
				#{email},
				#{password},
				#{nickname},
				#{personalnumber},
				#{phonenumber},
				#{address},
				#{authority},
				NULL,
				NULL,
				NULL,
				#{category},
				#{name}
				)
    	</insert>
    	
    	<insert id="insprofile" parameterType="profileimg">
    		INSERT INTO PROFILE VALUES(#{email},#{profileimg})
    	</insert>
    </mapper>
    
    